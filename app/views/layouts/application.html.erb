<!DOCTYPE html>
<html>
<head>
	<title>OfficeClassifieds</title>
	<%= stylesheet_link_tag    "application", :media => "all" %>
	<%= javascript_include_tag "application" %>
	<%= javascript_include_tag "https://maps.googleapis.com/maps/api/js?key=#{ENV['GOOGLE']}&amp&sensor=false" %>
	<%= csrf_meta_tags %>
</head>
<body>

	<nav class="top-bar">
		<ul class="title-area">
			<li class="name">
				<h1><a href="/"> YourOffice </a></h1>
			</li>
		</ul>

		<section class="top-bar-section">
			<ul class="right">
				<li class="divider hide-for-small"></li>
				<li class="has-dropdown"><a href="#">Browse Offices</a>
					<ul class="dropdown">
						<li><a href="/cities/1">Singapore</a></li>
						<li><a href="/cities/10">New York</a></li>
						<li><a href="/cities/3">San Francisco</a></li>
						<li><a href="/cities/2">Hong Kong</a></li>
						<li><a href="/cities/5">London</a></li>
					</ul>
				</li>

				<% unless current_renter || current_broker %>
					<a class="signup-div button" href="#">Sign Up</a>
					<a class="login-div button" href="#">Login</a>
				<% end %>

				<% if current_renter %>
				<li class="display_user"> <%= current_renter.email %> </li>
				<%= link_to "Sign Out", destroy_renter_session_path, method: :delete, class: "button"%>
				<% end %>

				<% if current_broker %>
				<li class="display_user"> <%= current_broker.email %> </li>
				<%= link_to "Sign Out", destroy_broker_session_path, method: :delete, class: "button"%>
				<% end %>

				<a class="signup success button" data-reveal-id="renter_sign_up" href=<%= new_renter_registration_path%>>Renter Signup</a>
				<a class="signup success button" data-reveal-id = "broker_sign_up" href=<%= new_broker_registration_path%>>Broker Signup</a>
				<a class="login alert button" data-reveal-id="renter_sign_in" href=<%= new_renter_session_path%>>Renter Login</a>
				<a class="login alert button" data-reveal-id="broker_sign_in" href=<%= new_broker_session_path%>>Broker Login</a>		

			</ul>
		</section>
	</nav>

	<%= yield %>
	<script> $(document).foundation(); </script>

	<div id="broker_login_box">
	  <%= form_for("broker", :url => new_broker_session_path, :html => {:id => "broker_sign_in", :class => "reveal-modal"}) do |f| %>
		  <a class="close-reveal-modal">&#215;</a>
			<h3>Broker Sign In</h3>
	    <%= f.label :email %>
	    <%= f.text_field :email %>
	    <%= f.label :password %>
	    <%= f.password_field :password %>
	    <%= f.check_box :remember_me -%>
	    <%= f.label :remember_me -%>
	    <%= f.submit 'Sign in' %>
	    <%= link_to "Forgot your password?", new_broker_password_path('broker') %>
	  <% end %>
	</div>

	<div id="renter_login_box">
	  <%= form_for("renter", :url => new_renter_session_path, :html => {:id => "renter_sign_in", :class => "reveal-modal"}) do |f| %>
	  	<a class="close-reveal-modal">&#215;</a>
			<h3>Renter Sign In</h3>
	    <%= f.label :email %>
	    <%= f.text_field :email %>
	    <%= f.label :password %>
	    <%= f.password_field :password %>
	    <%= f.check_box :remember_me -%>
	    <%= f.label :remember_me -%>
	    <%= f.submit 'Sign in' %>
	    <%= link_to "Forgot your password?", new_renter_password_path('renter') %>
	  <% end %>
	</div>

	<div id="renter_signup_box">
		<%= form_for("renter", :url => renter_registration_path, :html => { :id => "renter_sign_up", :class => "reveal-modal"} ) do |f| %>

		  <a class="close-reveal-modal">&#215;</a>
		<h3>Renter Sign Up</h3>

		  <div><%= f.label :email %><br />
		  <%= f.email_field :email, :autofocus => true %></div>

		  <div><%= f.label :password %><br />
		  <%= f.password_field :password %></div>

		  <div><%= f.label :password_confirmation %><br />
		  <%= f.password_field :password_confirmation %></div>

		  <div><%= f.submit "Sign up" %></div>
		 <% end %>
	</div>

	<div id="broker_signup_box">
		<%= form_for("broker", :url => broker_registration_path, :html => { :id => "broker_sign_up", :class => "reveal-modal"} ) do |f| %>

		  <a class="close-reveal-modal">&#215;</a>
		<h3>Broker Sign Up</h3>

		  <div><%= f.label :email %><br />
		  <%= f.email_field :email, :autofocus => true %></div>

		  <div><%= f.label :password %><br />
		  <%= f.password_field :password %></div>

		  <div><%= f.label :password_confirmation %><br />
		  <%= f.password_field :password_confirmation %></div>

		  <div><%= f.submit "Sign up" %></div>
		 <% end %>
	</div>
</body>
</html>


